{
	"$schema": "http://json-schema.org/schema#",
	"id":"/merchantprovider",
	"title": "Merchant Provider",
	"type": "object",
	"description": "A merchant provider",
	"properties": {
		"id":{"$ref": "../definitions/uuidv4.json"},
		"account":{"$ref": "../definitions/sixcrmaccountidentifier.json"},
		"name":{
			"type":"string",
			"minLength":2
		},
		"processor":{
			"type":"object",
			"properties":{
				"name":{
					"type":"string",
					"enum":["NMA","Humbolt","GMA","Group ISO","Test"]
				},
				"id":{
					"type":"string"
				}
			},
			"required":["name"]
		},
		"processing":{
			"type":"object",
			"properties":{
				"monthly_cap": {"$ref": "../definitions/currency.json"},
				"discount_rate":{"$ref": "../definitions/percentage.json"},
				"transaction_fee":{"$ref": "../definitions/currency.json"},
				"reserve_rate": {"$ref": "../definitions/percentage.json"},
				"maximum_chargeback_ratio":{"$ref": "../definitions/percentage.json"},
				"transaction_counts":{
					"type":"object",
					"properties":{
						"daily":{"$ref": "../definitions/nonnegativeinteger.json"},
						"weekly":{"$ref": "../definitions/nonnegativeinteger.json"},
						"monthly":{"$ref": "../definitions/nonnegativeinteger.json"}
					}
				}
			},
			"required":["monthly_cap","discount_rate", "transaction_fee", "reserve_rate", "maximum_chargeback_ratio", "transaction_counts"]
		},
		"gateway": {
			"type":"object",
			"anyOf":[
				{"$ref":"./components/merchantprovider/innovio.json"},
				{"$ref":"./components/merchantprovider/nmi.json"},
				{"$ref":"./components/merchantprovider/test.json"}
			]
		},
		"enabled":{
			"type":"boolean"
		},
		"allow_prepaid":{
			"type":"boolean"
		},
		"accepted_payment_methods":{
			"type":"array",
			"items":{
				"type":"string",
				"enum":["Visa", "Mastercard", "American Express", "LOCAL CARD"]
			},
			"minItems":1,
			"uniqueItems":true
		},
		"customer_service":{
			"type":"object",
			"properties":{
				"email":{
					"type":"string",
					"format":"email"
				},
				"url":{
					"type":"string",
					"format":"uri"
				},
				"description":{
					"type":"string"
				}
			}
		},
		"created_at":{"$ref": "../definitions/iso8601.json"},
		"updated_at":{"$ref": "../definitions/iso8601.json"}
	},
	"required":["id", "account", "name", "processor", "processing", "gateway", "enabled", "allow_prepaid", "accepted_payment_methods", "created_at", "updated_at"]
}
