{
	"result": {
		"type": "transaction_declined",
		"datetime": "2018-03-23T22:01:55.330Z"
	},
	"event": {
		"event_type": "transaction_declined",
		"context": {
			"message": {
				"MessageId": "da486515-6a15-441a-9d0c-e9af811b8c9a",
				"ReceiptHandle": "da486515-6a15-441a-9d0c-e9af811b8c9a#49159451-947e-44f9-8003-8b3ad6da2b75",
				"MD5OfBody": "cff701014e78d14df7db6da3bdc47650",
				"Body": "{\"id\":\"8cc6e168-c4a4-4810-af12-1012b3f1fa36\"}",
				"MD5OfMessageAttributes": "d41d8cd98f00b204e9800998ecf8427e"
			},
			"parsedmessagebody": {
				"id": "8cc6e168-c4a4-4810-af12-1012b3f1fa36"
			},
			"rebill": {
				"product_schedules": ["d2222962-a185-4fb4-85e6-1502adb0534d"],
				"amount": 34.99,
				"state_changed_at": "2018-03-23T22:01:20.913Z",
				"created_at": "2018-03-23T22:01:19.582Z",
				"history": [{
					"entered_at": "2018-03-23T22:01:20.913Z",
					"state": "bill"
				}],
				"products": [{
					"product": {
						"updated_at": "2017-04-06T18:41:12.521Z",
						"name": "Test Product",
						"shipping_delay": 3600,
						"ship": true,
						"created_at": "2017-04-06T18:40:41.405Z",
						"id": "9ac3a920-1b1f-433f-b15b-9ca0f5a90236",
						"sku": "123",
						"fulfillment_provider": "5d18d0fa-5812-4c37-b98c-7b1debdcb435",
						"account": "d3fa3bf3-7824-49f4-8261-87674482bf1c"
					},
					"amount": 34.99,
					"quantity": 1,
					"merchantprovidergroupassociation": {
						"entity_type": "product",
						"updated_at": "2018-03-23T22:01:19.678Z",
						"campaign": "555f995f-38f7-406c-8690-c98bbc5b3003",
						"created_at": "2018-03-23T22:01:19.678Z",
						"id": "a60520af-584e-469f-acd2-229b338b659f",
						"merchantprovidergroup": "45367480-f1c1-4f61-a3d6-413c22a44dc3",
						"account": "d3fa3bf3-7824-49f4-8261-87674482bf1c",
						"entity": "9ac3a920-1b1f-433f-b15b-9ca0f5a90236"
					}
				}],
				"updated_at": "2018-03-23T22:01:21.036Z",
				"bill_at": "2017-04-06T18:40:41.405Z",
				"parentsession": "356f04c8-58db-4a9d-8248-25ddf915cb8a",
				"processing": true,
				"id": "8cc6e168-c4a4-4810-af12-1012b3f1fa36",
				"state": "bill",
				"account": "d3fa3bf3-7824-49f4-8261-87674482bf1c"
			},
			"registerresponse": {
				"parameter_validation": {
					"transactions": "/Users/jdurham/Development/six/sixcrmserverless/model/entities/components/transactions.json",
					"processorresponses": "/Users/jdurham/Development/six/sixcrmserverless/model/functional/register/processorresponses.json",
					"creditcard": "/Users/jdurham/Development/six/sixcrmserverless/model/entities/creditcard.json"
				},
				"parameter_definition": {
					"constructor": {
						"required": {},
						"optional": {
							"response_type": "response_type",
							"transactions": "transactions",
							"processorresponses": "processor_responses",
							"creditcard": "creditcard"
						}
					}
				},
				"merged_response_types": {
					"success": {
						"code": "success"
					},
					"fail": {
						"code": "fail"
					},
					"noaction": {
						"code": "noaction"
					},
					"error": {
						"code": "error"
					}
				},
				"merged_parameter_definition": {
					"constructor": {
						"required": {},
						"optional": {
							"response_type": "response_type",
							"transactions": "transactions",
							"processorresponses": "processor_responses",
							"creditcard": "creditcard"
						}
					}
				},
				"merged_parameter_validation": {
					"response_type": "/Users/jdurham/Development/six/sixcrmserverless/model/general/response/responsetype.json",
					"transactions": "/Users/jdurham/Development/six/sixcrmserverless/model/entities/components/transactions.json",
					"processorresponses": "/Users/jdurham/Development/six/sixcrmserverless/model/functional/register/processorresponses.json",
					"creditcard": "/Users/jdurham/Development/six/sixcrmserverless/model/entities/creditcard.json"
				},
				"parameters": {
					"store": {
						"response_type": "fail",
						"transactions": [{
							"account": "d3fa3bf3-7824-49f4-8261-87674482bf1c",
							"rebill": "8cc6e168-c4a4-4810-af12-1012b3f1fa36",
							"processor_response": "{\"code\":\"declined\",\"message\":\"Failed\",\"result\":{\"code\":\"declined\",\"response\":{\"statusCode\":400,\"body\":{\"success\":true,\"code\":400,\"response\":{\"message\":\"declined\",\"response\":\"2\"}},\"headers\":{\"content-type\":\"application/json\",\"content-length\":\"76\",\"connection\":\"close\",\"date\":\"Fri, 23 Mar 2018 22:01:55 GMT\",\"x-amzn-requestid\":\"ccc45f7e-2ee5-11e8-ae2e-5b4dd64764de\",\"access-control-allow-origin\":\"*\",\"x-amz-apigw-id\":\"EN_lAHBxIAMFtyA=\",\"x-amzn-trace-id\":\"sampled=0;root=1-5ab57953-0e31ec192542e3a9e17e41ac\",\"x-cache\":\"Error from cloudfront\",\"via\":\"1.1 30aeb6ef25a393db74fabfc78bbd79e3.cloudfront.net (CloudFront)\",\"x-amz-cf-id\":\"b_UGo_yx_0Tze3-bqykZZs3YuxliW9YioAWxT_z1VwRDWnTBEDYfLw==\"},\"request\":{\"uri\":{\"protocol\":\"https:\",\"slashes\":true,\"auth\":null,\"host\":\"testmerchantprovider.sixcrm.com\",\"port\":443,\"hostname\":\"testmerchantprovider.sixcrm.com\",\"hash\":null,\"search\":null,\"query\":null,\"pathname\":\"/authorize\",\"path\":\"/authorize\",\"href\":\"https://testmerchantprovider.sixcrm.com/authorize\"},\"method\":\"post\",\"headers\":{\"Content-Type\":\"application/json\",\"accept\":\"application/json\",\"content-length\":773}}},\"message\":\"Failed\"},\"merchant_provider\":\"a32a3f71-1234-4d9e-a9a1-98ecedb88f24\",\"creditcard\":\"c069df30-ef8c-4fa3-a2fb-e093bad4d44f\"}",
							"amount": 34.99,
							"products": [{
								"product": {
									"updated_at": "2017-04-06T18:41:12.521Z",
									"name": "Test Product",
									"shipping_delay": 3600,
									"ship": true,
									"created_at": "2017-04-06T18:40:41.405Z",
									"id": "9ac3a920-1b1f-433f-b15b-9ca0f5a90236",
									"sku": "123",
									"fulfillment_provider": "5d18d0fa-5812-4c37-b98c-7b1debdcb435",
									"account": "d3fa3bf3-7824-49f4-8261-87674482bf1c"
								},
								"amount": 34.99,
								"quantity": 1,
								"merchantprovidergroupassociation": {
									"entity_type": "product",
									"updated_at": "2018-03-23T22:01:19.678Z",
									"campaign": "555f995f-38f7-406c-8690-c98bbc5b3003",
									"created_at": "2018-03-23T22:01:19.678Z",
									"id": "a60520af-584e-469f-acd2-229b338b659f",
									"merchantprovidergroup": "45367480-f1c1-4f61-a3d6-413c22a44dc3",
									"account": "d3fa3bf3-7824-49f4-8261-87674482bf1c",
									"entity": "9ac3a920-1b1f-433f-b15b-9ca0f5a90236"
								}
							}],
							"alias": "T761HBBVFY",
							"merchant_provider": "a32a3f71-1234-4d9e-a9a1-98ecedb88f24",
							"type": "sale",
							"result": "declined",
							"id": "6dd9546f-9efd-40db-80d7-c95c90570455",
							"created_at": "2018-03-23T22:01:55.330Z",
							"updated_at": "2018-03-23T22:01:55.330Z",
							"entity_type": "transaction",
							"index_action": "add"
						}],
						"processorresponses": [{
							"code": "declined",
							"message": "Failed",
							"result": {
								"code": "declined",
								"response": {
									"statusCode": 400,
									"body": {
										"success": true,
										"code": 400,
										"response": {
											"message": "declined",
											"response": "2"
										}
									},
									"headers": {
										"content-type": "application/json",
										"content-length": "76",
										"connection": "close",
										"date": "Fri, 23 Mar 2018 22:01:55 GMT",
										"x-amzn-requestid": "ccc45f7e-2ee5-11e8-ae2e-5b4dd64764de",
										"access-control-allow-origin": "*",
										"x-amz-apigw-id": "EN_lAHBxIAMFtyA=",
										"x-amzn-trace-id": "sampled=0;root=1-5ab57953-0e31ec192542e3a9e17e41ac",
										"x-cache": "Error from cloudfront",
										"via": "1.1 30aeb6ef25a393db74fabfc78bbd79e3.cloudfront.net (CloudFront)",
										"x-amz-cf-id": "b_UGo_yx_0Tze3-bqykZZs3YuxliW9YioAWxT_z1VwRDWnTBEDYfLw=="
									},
									"request": {
										"uri": {
											"protocol": "https:",
											"slashes": true,
											"auth": null,
											"host": "testmerchantprovider.sixcrm.com",
											"port": 443,
											"hostname": "testmerchantprovider.sixcrm.com",
											"hash": null,
											"search": null,
											"query": null,
											"pathname": "/authorize",
											"path": "/authorize",
											"href": "https://testmerchantprovider.sixcrm.com/authorize"
										},
										"method": "post",
										"headers": {
											"Content-Type": "application/json",
											"accept": "application/json",
											"content-length": 773
										}
									}
								},
								"message": "Failed"
							},
							"merchant_provider": "a32a3f71-1234-4d9e-a9a1-98ecedb88f24",
							"creditcard": "c069df30-ef8c-4fa3-a2fb-e093bad4d44f"
						}],
						"creditcard": {
							"number": "1111111111111111",
							"address": {
								"zip": "97213",
								"country": "US",
								"state": "OR",
								"city": "Portland",
								"line2": "Suite 100",
								"line1": "10 Skid Rw."
							},
							"updated_at": "2018-03-23T22:01:19.717Z",
							"last_four": "1111",
							"ccv": "999",
							"name": "Rama Damunaste",
							"created_at": "2018-03-23T22:01:19.717Z",
							"expiration": "10/2025",
							"id": "c069df30-ef8c-4fa3-a2fb-e093bad4d44f",
							"account": "d3fa3bf3-7824-49f4-8261-87674482bf1c"
						}
					},
					"parameter_validation": {
						"response_type": "/Users/jdurham/Development/six/sixcrmserverless/model/general/response/responsetype.json",
						"transactions": "/Users/jdurham/Development/six/sixcrmserverless/model/entities/components/transactions.json",
						"processorresponses": "/Users/jdurham/Development/six/sixcrmserverless/model/functional/register/processorresponses.json",
						"creditcard": "/Users/jdurham/Development/six/sixcrmserverless/model/entities/creditcard.json"
					},
					"parameter_definition": {
						"constructor": {
							"required": {},
							"optional": {
								"response_type": "response_type",
								"transactions": "transactions",
								"processorresponses": "processor_responses",
								"creditcard": "creditcard"
							}
						}
					}
				}
			}
		}
	}
}